{
  "db_name": "PostgreSQL",
  "query": "\n                WITH user_ids AS (\n                    SELECT user_id\n                    FROM subscriptions_forum_thread_posts\n                    WHERE forum_thread_id = $1\n                    AND user_id != $3\n                )\n                INSERT INTO notifications_forum_thread_posts (user_id, forum_post_id, forum_thread_id)\n                SELECT\n                    user_id,\n                    $2,\n                    $1\n                FROM user_ids u\n                -- don't notify the user who created the post\n                WHERE NOT EXISTS (\n                    SELECT 1\n                    FROM notifications_forum_thread_posts n\n                    WHERE n.user_id = u.user_id\n                      AND n.forum_thread_id = $1\n                      AND n.read_status = FALSE\n                )\n            ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Int8",
        "Int8",
        "Int4"
      ]
    },
    "nullable": []
  },
  "hash": "5413129a379cdc0fe443a43c45e4144c200fe4d740eb31fd6454c79a8b1f4375"
}
